<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Number Cycler</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #f5f5f5;
      font-family: system-ui, sans-serif;
    }

    .cell {
      width: 80px;
      height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 2px solid #b8b8b8;
      border-radius: 12px;
      font-size: 2rem;
      position: absolute; /* so we can pin them to corners */
    }

    .on {
      border: 4px solid #2ecc71;
    }

    .selected {
      background-color: #fc2626b9;
    }

    /* Corner placement */
    #box1 { top: 200px; left: 300px; }      /* top-left */
    #box2 { top: 200px; right: 300px; }     /* top-right */
    #box3 { bottom: 200px; left: 300px; }   /* bottom-left */
    #box4 { bottom: 200px; right: 300px; }  /* bottom-right */

    .hud {
      position: fixed; top: 16px; left: 50%; transform: translateX(-50%);
      background: white; padding: 10px 14px; border: 1px solid #ddd; border-radius: 10px;
      box-shadow: 0 6px 16px rgba(0,0,0,0.08); font-size: 14px; display: flex; gap: 12px; align-items: center;
    }
    .hud label { display:flex; gap:6px; align-items:center; }
    .hud code { background:#f2f2f2; padding:2px 6px; border-radius:6px; }
    button { padding: 6px 10px; border-radius: 8px; border: 1px solid #ccc; background: #fff; cursor: pointer; }
  </style>
  
</head>
<body>
  <div id="box1" class="cell">1</div>
  <div id="box2" class="cell">2</div>
  <div id="box3" class="cell">3</div>
  <div id="box4" class="cell">4</div>

  <div class="hud">
    <label>EEG: <code id="eegVal">—</code></label>
    <label>Smoothed: <code id="smoothVal">—</code></label>
    <label>Baseline: <code id="baselineVal">—</code></label>
    <label>Threshold: <code id="threshVal">—</code></label>
    <button id="btnCal">Calibrate (1s)</button>
    <button id="btnSim">Sim: Off</button>
    <label>Cooldown(ms): <input id="cool" type="number" value="600" style="width:64px"></label>
    <label>Hysteresis: <input id="hyst" type="number" value="0.2" step="0.05" style="width:64px"></label>
  </div>

<body>
  <div id="box1" class="cell">1</div>
  <div id="box2" class="cell">2</div>
  <div id="box3" class="cell">3</div>
  <div id="box4" class="cell">4</div>

  <script>
    const cells = Array.from(document.querySelectorAll('.cell'));
    let idx = 0; // start on the first cell
    cells[idx].classList.add('on');
  
    // Select the CURRENT (red) cell immediately when Space is pressed
    addEventListener('keydown', e => {
      if (e.code === 'Space') {
        e.preventDefault();           // stop page from scrolling
        cells[idx].classList.add('selected');
        console.log('Selected', idx + 1);
      }
    });
  
    function cycle() {
      cells[idx].classList.remove('on');
      idx = (idx + 1) % cells.length;

      if (idx === 0) {
    cells.forEach(c => c.classList.remove('selected'));
    }

      cells[idx].classList.add('on');
    }
  
    setInterval(cycle, 1200); // cycles every 1200ms
  </script>
  